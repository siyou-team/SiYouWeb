(function(_x50854){$[_x50854[0]]({request:function(e){var t={type:_x50854[1],dataType:_x50854[2],timeout:50000,loading:!0,data:{typ:_x50854[2]},success:function(e,t){},error:function(e,t){Public[_x50854[3]](_x50854[4]);}};if($[_x50854[0]](!0,t,e),t[_x50854[5]]){$[_x50854[0]](!0,t,{beforeSend:function(){},complete:function(){}});}var n=t[_x50854[6]],s=t[_x50854[7]];t[_x50854[6]]=function(e,t){n&&n(e,t);},t[_x50854[7]]=function(e,t){var n=_x50854[8];_x50854[9]===t&&(n=_x50854[10]),Public[_x50854[3]](n),s&&s(e);},$[_x50854[11]](t);}}),$[_x50854[0]]({send:function(e,t,n,s){return jQuery[_x50854[12]](t)&&(s=s||n,n=t,t=void 0),$[_x50854[13]](jQuery[_x50854[0]]({url:e,type:_x50854[14],dataType:s,data:t,loading:!1,success:n},jQuery[_x50854[15]](e)&&e));}});var socket_connect=0,socket_handle=null,vid=$[_x50854[16]](_x50854[17]);vid||(vid=parseInt(90000000000*Math[_x50854[18]]()+10000000000,10)),$[_x50854[19]](sprintf(_x50854[20],SYS[_x50854[22]][_x50854[21]],_x50854[23],_x50854[24]),{uid:vid},function(e){function t(e){var t=document[_x50854[25]](_x50854[26]);t[_x50854[27]]=_x50854[28],t[_x50854[29]]=_x50854[30],t[_x50854[31]]=e,document[_x50854[33]](_x50854[34])[0][_x50854[32]](t);}if(200==e[_x50854[35]]&&e[_x50854[37]][_x50854[36]]){var n=e[_x50854[37]][_x50854[38]],s=e[_x50854[37]][_x50854[39]],o=(e[_x50854[37]][_x50854[40]],e[_x50854[37]][_x50854[41]]);t(s+_x50854[42]),$[_x50854[43]](s+_x50854[44],function(){layui[_x50854[45]]({base:s+_x50854[46],dir:s+_x50854[46]}),/^http(s*):\/\//[_x50854[47]](location[_x50854[31]])||alert(_x50854[48]),layui[_x50854[49]](_x50854[50],function(t){var i={init:{url:sprintf(_x50854[51],SYS[_x50854[22]][_x50854[21]],_x50854[52],_x50854[53]),data:{}},members:{url:sprintf(_x50854[51],SYS[_x50854[22]][_x50854[21]],_x50854[54],_x50854[55]),data:{}},uploadImage:{url:SYS[_x50854[22]][_x50854[21]]+_x50854[56],type:_x50854[14]},uploadFile:{url:SYS[_x50854[22]][_x50854[21]]+_x50854[57],type:_x50854[14]},isAudio:!0,isVideo:!0,tool:[{alias:_x50854[58],title:_x50854[59],icon:_x50854[60]}],title:_x50854[61],right:_x50854[62],initSkin:_x50854[63],isgroup:!0,min:!0,notice:!0,msgbox:layui[_x50854[65]][_x50854[64]]+_x50854[66],find:layui[_x50854[65]][_x50854[64]]+_x50854[67],chatLog:layui[_x50854[65]][_x50854[64]]+_x50854[68]};_x50854[69]!=typeof ajaxCart&&(i[_x50854[70]]=_x50854[71]),n||($[_x50854[16]](_x50854[17],vid),i={init:{mine:{username:_x50854[72],id:o||vid,user_id:vid,status:_x50854[73],remark:_x50854[74],avatar:s+_x50854[75]}},title:_x50854[61],brief:!0,isfriend:!1,isgroup:!1,min:!0,notice:!0}),t[_x50854[45]](i),t[_x50854[76]](_x50854[73],function(e){}),t[_x50854[76]](_x50854[77],function(e){console[_x50854[78]](e),$[_x50854[19]](sprintf(_x50854[20],SYS[_x50854[22]][_x50854[21]],_x50854[79],_x50854[77]),{user_sign:e},function(e){});}),t[_x50854[76]](_x50854[80],function(e){layer[_x50854[81]]({title:_x50854[82],formType:2,shade:0},function(t,n){layer[_x50854[83]](n),e(_x50854[84]+t+_x50854[85]);});}),t[_x50854[76]](_x50854[86],function(e){setTimeout(function(){},3000);}),t[_x50854[76]](_x50854[87],function(e){var t=e[_x50854[88]];if(1===socket_connect)if(n){if(_x50854[89]===t[_x50854[27]])var s=sprintf(_x50854[51],SYS[_x50854[22]][_x50854[21]],_x50854[54],_x50854[90]);else var s=sprintf(_x50854[51],SYS[_x50854[22]][_x50854[21]],_x50854[91],_x50854[92]);$[_x50854[13]]({type:_x50854[14],url:s,data:e,dataType:_x50854[2],success:function(t){if(200!=t[_x50854[35]])return!1;var n=t[_x50854[37]];e[_x50854[94]][_x50854[93]]=n[_x50854[95]];var s=JSON[_x50854[96]](e);socket_handle[_x50854[19]](s);}});}else{var o=JSON[_x50854[96]](e);socket_handle[_x50854[19]](o);}}),t[_x50854[76]](_x50854[97],function(e){}),t[_x50854[76]](_x50854[98],function(e){e[_x50854[37]][_x50854[27]];console[_x50854[78]](e[_x50854[37]][_x50854[99]]);});var a=function(e){function n(){setTimeout(function(){_x50854[100]==typeof ReconnectingWebSocket?o():n();},500);}function o(){var e=nodeSiteUrl;socket_connect=0,socket_handle=new ReconnectingWebSocket(e),socket_handle[_x50854[101]]=function(e){socket_connect=1,console[_x50854[102]](_x50854[103]),console[_x50854[102]](e);},socket_handle[_x50854[104]]=function(e){console[_x50854[102]](e);},socket_handle[_x50854[105]]=function(e){console[_x50854[102]](e);var n=JSON[_x50854[106]](e[_x50854[37]]);if(n[_x50854[93]]){var s=sprintf(_x50854[51],SYS[_x50854[22]][_x50854[21]],_x50854[91],_x50854[107]);$[_x50854[13]]({type:_x50854[14],url:s,data:{message_id:n[_x50854[93]]},dataType:_x50854[2],success:function(e){}});}t[_x50854[108]](n);},socket_handle[_x50854[109]]=function(e){console[_x50854[102]](e);},socket_handle[_x50854[110]]=function(e){console[_x50854[102]](e);};}nodeSiteUrl=e[_x50854[111]],s=e[_x50854[39]];var i=document[_x50854[25]](_x50854[112]);i[_x50854[27]]=_x50854[113],i[_x50854[114]]=s+_x50854[115],document[_x50854[116]][_x50854[32]](i),n();};a(e[_x50854[37]]);});},!0);}});}.call(this,['extend','POST','json','tipMsg','\u64cd\u4f5c\u65e0\u6cd5\u6210\u529f\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01','loading','success','error','\u670d\u52a1\u7aef\u54cd\u5e94\u9519\u8bef\uff01','timeout','\u8bf7\u6c42\u8d85\u65f6\uff01','ajax','isFunction','request','post','isPlainObject','cookie','vid','random','send','%s/account.php?ctl=%s&met=%s&typ=json','base_url','CONFIG','Index','getConfig','createElement','link','type','text/css','rel','stylesheet','href','appendChild','getElementsByTagName','head','status','im_chat','data','user_info','resource_site_url','suid','puid','/im/css/layui.css','getScript','/im/layui.js','config','/im/','test','\u8bf7\u90e8\u7f72\u5230localhost\u4e0a\u67e5\u770b\u8be5\u6f14\u793a','use','layim','%s/account.php?mdu=sns&ctl=%s&met=%s&typ=json','User_Friend','getFriendsInfo','User_Zone','getMembers','/index.php?ctl=Media&met=uploadImage&typ=json','/index.php?ctl=Media&met=uploadFile&typ=json','code','\u4ee3\u7801','&#xe64e;','IM','0px','5.jpg','dir','cache','css/modules/layim/html/msgbox.html','css/modules/layim/html/find.html','css/modules/layim/html/chatlog.html','undefined','right','36px','\u8bbf\u5ba2','online','\u5728\u6df1\u9083\u7684\u7f16\u7801\u4e16\u754c\uff0c\u505a\u4e00\u679a\u8f7b\u76c8\u7684\u7eb8\u98de\u673a','/im/images/user_no_avatar.png','on','sign','log','User_Account','tool(code)','prompt','\u63d2\u5165\u4ee3\u7801','close','[pre class=layui-code]','[/pre]','ready','sendMessage','to','group','addMessage','User_Message','add','message_id','mine','message_other_id','stringify','members','chatChange','id','function','onopen','info','open','onconnecting','onmessage','parse','setRead','getMessage','onerror','onclose','node_site_url','script','text/javascript','src','/js/reconnecting-websocket.js','body']));