(function(_x37552){'use strict';function _interopRequireDefault(e){return e&&e[_x37552[0]]?e:{'default':e};}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(_x37552[1]);}Object[_x37552[2]](exports,_x37552[0],{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t[_x37552[3]];r++){var n=t[r];n[_x37552[4]]=n[_x37552[4]]||!1,n[_x37552[5]]=!0,_x37552[6]in n&&(n[_x37552[7]]=!0),Object[_x37552[2]](e,n[_x37552[8]],n);}}return function(t,r,n){return r&&e(t[_x37552[9]],r),n&&e(t,n),t;};}(),_config=require(_x37552[10]),_config2=_interopRequireDefault(_config),_es6Promise=require(_x37552[11]),_es6Promise2=_interopRequireDefault(_es6Promise),ServiceBase=function(){function e(){_classCallCheck(this,e),Object[_x37552[12]](this,{$$basePath:_config2[_x37552[14]][_x37552[13]]}),this[_x37552[15]]();}return _createClass(e,[{key:_x37552[15],value:function(){this[_x37552[16]](),this[_x37552[17]]();}},{key:_x37552[16],value:function(){this[_x37552[18]]=_x37552[19],this[_x37552[20]]={method:[_x37552[21],_x37552[22],_x37552[23],_x37552[24],_x37552[25],_x37552[26],_x37552[27],_x37552[28]]};}},{key:_x37552[17],value:function(){var e=this;for(var t in this[_x37552[20]])this[_x37552[20]][t][_x37552[29]](function(t,r){e[t[_x37552[30]]()+e[_x37552[18]]]=function(){for(var r=arguments[_x37552[3]],n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e[_x37552[32]][_x37552[31]](e,[t][_x37552[33]](n));};});}},{key:_x37552[32],value:function(){var e=arguments[_x37552[3]]>0&&void 0!==arguments[0]?arguments[0]:_x37552[34],t=arguments[_x37552[3]]>1&&void 0!==arguments[1]?arguments[1]:_x37552[34],r=arguments[_x37552[3]]>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[_x37552[3]]>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments[_x37552[3]]>4&&void 0!==arguments[4]?arguments[4]:_x37552[35],o=Object[_x37552[12]]({},this[_x37552[36]](),n),s=this[_x37552[37]](t),u=function(e,t){for(var r=0,n=t[_x37552[3]];r<n;){var i=t[r++],o=t[r++];e=e[_x37552[38]](i,o);}return e;},a={url:s,data:r,header:o,method:e,dataType:i},c=[],f=[],l=this[_x37552[39]](),h=this[_x37552[40]](a);return l[_x37552[29]](function(e,t){(e[_x37552[41]]||e[_x37552[42]])&&c[_x37552[43]](e[_x37552[41]],e[_x37552[42]]),(e[_x37552[44]]||e[_x37552[45]])&&f[_x37552[46]](e[_x37552[44]],e[_x37552[45]]);}),h=u(h,c),h=h[_x37552[38]](this[_x37552[47]]),h=u(h,f),h=h[_x37552[38]](function(e){return e[_x37552[48]];},function(e){return e;});}},{key:_x37552[47],value:function(e){return new _es6Promise2[_x37552[14]][_x37552[49]](function(t,r){e[_x37552[50]]=function(e){return t(e);},e[_x37552[51]]=function(e){return r(e);},wx[_x37552[41]](e);});}},{key:_x37552[40],value:function(e){return new _es6Promise2[_x37552[14]][_x37552[49]](function(t,r){t(e);});}},{key:_x37552[52],value:function(e){return new _es6Promise2[_x37552[14]][_x37552[49]](function(t,r){r(e);});}},{key:_x37552[37],value:function(e){return _x37552[34]+this[_x37552[53]]+this[_x37552[54]]+e;}},{key:_x37552[36],value:function(){return{Authorization:_x37552[55]+wx[_x37552[56]](_x37552[57])};}},{key:_x37552[39],value:function(){return[{request:function(e){return e[_x37552[58]]=e[_x37552[58]]||{},e[_x37552[59]]=new Date()[_x37552[60]](),e[_x37552[62]][_x37552[61]](_x37552[63])!==-1&&wx[_x37552[56]](_x37552[57])&&(e[_x37552[58]][_x37552[64]]=_x37552[55]+wx[_x37552[56]](_x37552[57])),wx[_x37552[65]]({title:_x37552[66],icon:_x37552[67],duration:10000,mask:!0}),e;},requestError:function(e){return wx[_x37552[68]](),e;},response:function(e){return e[_x37552[69]]=new Date()[_x37552[60]](),401===e[_x37552[70]]&&(wx[_x37552[71]](_x37552[57]),wx[_x37552[72]]({url:_x37552[73]})),wx[_x37552[68]](),e;},responseError:function(e){return wx[_x37552[68]](),e;}}];}}]),e;}();exports[_x37552[14]]=ServiceBase;}.call(this,['__esModule','Cannot call a class as a function','defineProperty','length','enumerable','configurable','value','writable','key','prototype','../config/config','../helpers/plugins/es6-promise','assign','basePath','default','__init','__initDefaults','__initMethods','suffix','Request','instanceSource','OPTIONS','GET','HEAD','POST','PUT','DELETE','TRACE','CONNECT','forEach','toLowerCase','apply','__defaultRequest','concat','','json','setHeaders','setUrl','then','setInterceptors','__resolve','request','requestError','push','response','responseError','unshift','__http','data','Promise','success','fail','__reject','$$basePath','$$prefix','Bearer ','getStorageSync','token','header','requestTimestamp','getTime','indexOf','url','/api','Authorization','showToast','\u52a0\u8f7d\u4e2d','loading','hideToast','responseTimestamp','statusCode','removeStorageSync','redirectTo','/pages/login/index']));