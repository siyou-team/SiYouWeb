(function(_x41665){'use strict';var app=getApp(),$=require(_x41665[0]);Page({data:{Phone:_x41665[1],Code:_x41665[1],btntext:_x41665[2],isSend:!0,isPhone:!0,sendTime:120,isCode:!0},inputphone:function(e){this[_x41665[3]]({Phone:e[_x41665[5]][_x41665[4]]}),$[_x41665[6]](e[_x41665[5]][_x41665[4]])?this[_x41665[3]]({isPhone:!1}):/^1[34578]\d{9}$/[_x41665[7]](e[_x41665[5]][_x41665[4]])?this[_x41665[3]]({isPhone:!0}):this[_x41665[3]]({isPhone:!1});},inputcode:function(e){this[_x41665[3]]({Code:e[_x41665[5]][_x41665[4]]}),$[_x41665[6]](e[_x41665[5]][_x41665[4]])?this[_x41665[3]]({isCode:!1}):this[_x41665[3]]({isCode:!0});},sendmessage:function(){if($[_x41665[6]](this[_x41665[9]][_x41665[8]]))this[_x41665[3]]({isPhone:!1});else if(/^1[34578]\d{9}$/[_x41665[7]](this[_x41665[9]][_x41665[8]])){if(this[_x41665[9]][_x41665[8]]==app[_x41665[12]][_x41665[11]][_x41665[10]])$[_x41665[13]](_x41665[14]);else if(this[_x41665[9]][_x41665[15]]){this[_x41665[3]]({isSend:!1});var e=this,t=this[_x41665[9]][_x41665[16]],a={Phone:this[_x41665[9]][_x41665[8]],UserName:app[_x41665[12]][_x41665[11]][_x41665[17]],user_nickname:app[_x41665[12]][_x41665[11]][_x41665[18]]};$[_x41665[19]]($[_x41665[20]](phoneapi[_x41665[21]],a),function(a){if(0==a[_x41665[22]])var s=setInterval(function(){t>0?e[_x41665[3]]({btntext:t--+_x41665[23]}):(e[_x41665[3]]({isSend:!0,sendTime:120,btntext:_x41665[24]}),clearInterval(s));},1000);else e[_x41665[3]]({isSend:!0});});}}else this[_x41665[3]]({isPhone:!1});},submitdata:function(){if($[_x41665[6]](this[_x41665[9]][_x41665[8]]))this[_x41665[3]]({isPhone:!1});else if(/^1[34578]\d{9}$/[_x41665[7]](this[_x41665[9]][_x41665[8]]))if(this[_x41665[9]][_x41665[8]]==app[_x41665[12]][_x41665[11]][_x41665[10]])$[_x41665[13]](_x41665[25]);else if($[_x41665[6]](this[_x41665[9]][_x41665[22]]))this[_x41665[3]]({isCode:!1});else{var e={Phone:this[_x41665[9]][_x41665[8]],UserName:app[_x41665[12]][_x41665[11]][_x41665[17]],Code:this[_x41665[9]][_x41665[22]]};$[_x41665[19]]($[_x41665[20]](phoneapi[_x41665[26]],e),function(t){console[_x41665[27]](t),0==t[_x41665[22]]?(app[_x41665[12]][_x41665[11]][_x41665[10]]=e[_x41665[8]],$[_x41665[28]](1,function(){$[_x41665[29]](_x41665[30]);})):$[_x41665[13]](_x41665[31]);});}else this[_x41665[3]]({isPhone:!1});}});}.call(this,['../../helpers/util.js','','\u53d1\u9001','setData','value','detail','isNull','test','Phone','data','user_mobile','userInfo','globalData','confirm','\u4f60\u5df2\u7ecf\u7ed1\u5b9a\u8fc7\u8be5\u624b\u673a\uff01','isSend','sendTime','user_account','user_nickname','xsr','makeUrl','SendMessage','Code','s','\u91cd\u65b0\u53d1\u9001','\u4f60\u76ee\u524d\u5df2\u7ecf\u7ed1\u5b9a\u8be5\u624b\u673a\uff01','BindPhone','log','navigateBack','alert','\u7ed1\u5b9a\u6210\u529f\uff01','\u4eb2~\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u9a8c\u8bc1\u7801\uff01']));