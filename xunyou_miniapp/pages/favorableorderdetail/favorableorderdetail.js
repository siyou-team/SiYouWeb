(function(_x14564){'use strict';function _defineProperty(a,e,t){return e in a?Object[_x14564[0]](a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a;}var app=getApp(),$=require(_x14564[1]);Page({data:_defineProperty({info:{},discount:_x14564[2],deduction:0,showRPK:!0,ActivityGroupId:0,maxRPK:0},_x14564[3],0),onLoad:function(a){var e={userId:app[_x14564[6]][_x14564[5]][_x14564[4]],order_id:a[_x14564[7]]},t=this;$[_x14564[8]]($[_x14564[9]](orderapi[_x14564[10]],e),function(a){console[_x14564[11]](a),t[_x14564[12]]({info:a[_x14564[13]][0],discount:(a[_x14564[13]][0][_x14564[15]]+a[_x14564[13]][0][_x14564[16]])[_x14564[14]](2),deduction:a[_x14564[13]][0][_x14564[17]]+a[_x14564[13]][0][_x14564[18]]});});var e={store_id:app[_x14564[6]][_x14564[19]][_x14564[4]],sponsorId:app[_x14564[6]][_x14564[5]][_x14564[4]],order_id:a[_x14564[7]]};$[_x14564[8]]($[_x14564[9]](orderapi[_x14564[20]],e),function(a){t[_x14564[12]]({maxRPK:a[_x14564[13]][_x14564[21]],ActivityGroupId:a[_x14564[13]][_x14564[22]]});}),wx[_x14564[23]]();},onShareAppMessage:function(){return{title:_x14564[24]+this[_x14564[26]][_x14564[25]]+_x14564[27],imageUrl:_x14564[28],path:_x14564[29]+this[_x14564[26]][_x14564[30]]+_x14564[31]+this[_x14564[26]][_x14564[25]]+_x14564[32]+app[_x14564[6]][_x14564[5]][_x14564[4]],success:function(){$[_x14564[33]]($[_x14564[9]](orderapi[_x14564[34]],{sponsorId:app[_x14564[6]][_x14564[5]][_x14564[4]],audienceType:1,audienceId:0,ContentType:22,contentId:that[_x14564[26]][_x14564[30]]}));}};},shareQRCode:function(a){var e=this,t={store_id:app[_x14564[6]][_x14564[19]][_x14564[4]],sponsorId:app[_x14564[6]][_x14564[5]][_x14564[4]],imageUrl:_x14564[28],path:_x14564[29]+this[_x14564[26]][_x14564[30]]+_x14564[31]+this[_x14564[26]][_x14564[25]]+_x14564[32]+app[_x14564[6]][_x14564[5]][_x14564[4]],luckyOrder:this[_x14564[26]][_x14564[25]]};$[_x14564[35]]({url:app[_x14564[39]][_x14564[38]][_x14564[37]][_x14564[36]],data:t,success:function(a,t,o,n){e[_x14564[12]]({PageQRCodeInfo:{Path:a[_x14564[40]],IsShare:!0,IsShareBox:!1,IsJT:!0}});}});},shareBox:function(){this[_x14564[12]]({PageQRCodeInfo:{Path:_x14564[2],IsShare:!0,IsShareBox:!0,IsJT:!1}});},cancelShare:function(){this[_x14564[12]]({PageQRCodeInfo:{Path:_x14564[2],IsShare:!1,IsShareBox:!1,IsJT:!1}});},saveImg:function(){var a=this;$[_x14564[41]](),wx[_x14564[42]]({url:this[_x14564[26]][_x14564[44]][_x14564[43]],success:function(e){$[_x14564[45]](),wx[_x14564[46]]({filePath:e[_x14564[47]],success:function(){a[_x14564[12]]({PageQRCodeInfo:{Path:_x14564[2],IsShare:!1,IsShareBox:!1,IsJT:!1}}),$[_x14564[48]](_x14564[49]),$[_x14564[33]]($[_x14564[9]](orderapi[_x14564[34]],{sponsorId:app[_x14564[6]][_x14564[5]][_x14564[4]],audienceType:3,audienceId:0,ContentType:22,contentId:a[_x14564[26]][_x14564[30]]}));},fail:function(a){$[_x14564[45]](),console[_x14564[11]](_x14564[50],a);}});},fail:function(a){$[_x14564[45]]();}});},showCodeImg:function(){wx[_x14564[51]]({current:this[_x14564[26]][_x14564[44]][_x14564[43]],urls:[this[_x14564[26]][_x14564[44]][_x14564[43]]]});},IsShowRPK:function(){var a=this;a[_x14564[26]][_x14564[52]]?setTimeout(function(){a[_x14564[12]]({showRPK:!1});},250):a[_x14564[12]]({showRPK:!0});}});}.call(this,['defineProperty','../../helpers/util.js','','deduction','Id','UserInfo','globalData','on','xsr','makeUrl','GetOrderInfo','log','setData','Info','toFixed','CouponDiscount','OrderTypeDiscount','ECardCash','ExtraCash','shopInfo','PrepareShareLuckyRedPacket','LuckyOrder','LuckyRedPacketActivityGroupId','hideShareMenu','\u62fc\u624b\u6c14\u7ea2\u5305\uff0c\u7b2c','maxRPK','data','\u4e2a\u9886\u53d6\u7684\u7ea2\u5305\u6700\u5927!','https://static.shopsuite.cn/xcxfile/appicon/shareImg.png','pages/redpacket/redpacket?g=','ActivityGroupId','&n=','&uid=','xsr1','ShareCount','request','getMiniAppQRCodeUnlimit','wx','URL','Config','url','loading','downloadFile','Path','PageQRCodeInfo','hideloading','saveImageToPhotosAlbum','tempFilePath','alert','\u4fdd\u5b58\u56fe\u7247\u6210\u529f\uff01','\u4fdd\u5b58\u56fe\u7247\u5931\u8d25\uff1a','previewImage','showRPK']));