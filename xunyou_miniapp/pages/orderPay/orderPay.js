(function(_x62025){'use strict';var app=getApp(),$=require(_x62025[0]),notice=require(_x62025[1]),WxParse=require(_x62025[2]);Page({data:{money:0,payment:0,integral:_x62025[3],info:[],order_id:_x62025[3],formId:_x62025[3],time:_x62025[3],Description:_x62025[3],MoneyLimit:_x62025[3],CouponEnabeld:_x62025[3],discountvalue:_x62025[3],nodiscountvalue:_x62025[3],discount:0,membediscountmoney:0,DiscountMoney:0,couponItemId:0,IsUseCoupon:1,totlemoney:0,Info:[],MaxUsableCash:0,MaxUsableECardCash:0,MaxUsableExtraCash:0,balance:0,realMoney:0,isBalance:!0,eCardCash:0,extraCash:0,isMembership:!0,isECashCard:!0,isCoupon:!0},onLoad:function(a){this[_x62025[4]]({order_id:a[_x62025[5]],money:a[_x62025[6]]});var t=this;notice[_x62025[7]](_x62025[8],t[_x62025[8]],t);app[_x62025[11]][_x62025[10]][_x62025[9]];},onUnload:function(){var a=this;notice[_x62025[12]](_x62025[8],a);},GetUserUsableECash:function(){var a={userName:app[_x62025[11]][_x62025[14]][_x62025[13]],orderRealTotal:0},t=this;$[_x62025[15]]($[_x62025[16]](orderapi[_x62025[17]],a),function(a){console[_x62025[18]](a),t[_x62025[4]]({MaxUsableCash:a[_x62025[20]][0][_x62025[19]],MaxUsableECardCash:a[_x62025[20]][0][_x62025[21]],MaxUsableExtraCash:a[_x62025[20]][0][_x62025[22]]}),a[_x62025[20]][0][_x62025[19]]>=t[_x62025[24]][_x62025[23]]?t[_x62025[4]]({balance:t[_x62025[24]][_x62025[23]],realMoney:0}):t[_x62025[4]]({balance:a[_x62025[20]][0][_x62025[19]],realMoney:(t[_x62025[24]][_x62025[23]]-a[_x62025[20]][0][_x62025[19]])[_x62025[25]](2)});});},RefreshCoupon1:function(a){this[_x62025[4]]({couponItemId:a[_x62025[26]],IsUseCoupon:a[_x62025[27]],DiscountMoney:a[_x62025[28]],MoneyLimit:a[_x62025[29]]}),this[_x62025[30]]();},inputnum:function(a){this[_x62025[4]]({money:a[_x62025[32]][_x62025[31]]}),this[_x62025[30]]();},count:function(a){this[_x62025[4]]({integral:a[_x62025[32]][_x62025[31]]}),0==a[_x62025[32]][_x62025[31]]&&this[_x62025[4]]({integral:_x62025[3]}),a[_x62025[32]][_x62025[31]]>this[_x62025[24]][_x62025[20]][_x62025[33]]&&(this[_x62025[4]]({integral:_x62025[3]}),wx[_x62025[34]]({title:_x62025[35],content:_x62025[36]})),this[_x62025[30]]();},inputVal:function(){console[_x62025[18]](this[_x62025[24]][_x62025[6]]),this[_x62025[4]]({membediscountmoney:((this[_x62025[24]][_x62025[6]]-this[_x62025[24]][_x62025[28]])*(1-this[_x62025[24]][_x62025[20]][_x62025[37]]/10))[_x62025[25]](2)}),console[_x62025[18]](this[_x62025[24]][_x62025[20]][_x62025[38]]),0==this[_x62025[24]][_x62025[20]][_x62025[38]]?(console[_x62025[18]](this[_x62025[24]][_x62025[6]]*(this[_x62025[24]][_x62025[20]][_x62025[37]]/10)),this[_x62025[4]]({payment:((this[_x62025[24]][_x62025[6]]-this[_x62025[24]][_x62025[28]])*(this[_x62025[24]][_x62025[20]][_x62025[37]]/10))[_x62025[25]](2),totlemoney:(this[_x62025[24]][_x62025[6]]*(this[_x62025[24]][_x62025[20]][_x62025[37]]/10))[_x62025[25]](2)})):(console[_x62025[18]](this[_x62025[24]][_x62025[6]]*(this[_x62025[24]][_x62025[20]][_x62025[37]]/10)-this[_x62025[24]][_x62025[39]]/this[_x62025[24]][_x62025[20]][_x62025[38]]),this[_x62025[4]]({discount:(this[_x62025[24]][_x62025[39]]/this[_x62025[24]][_x62025[20]][_x62025[38]])[_x62025[25]](2),payment:(((this[_x62025[24]][_x62025[6]]-this[_x62025[24]][_x62025[28]])*(this[_x62025[24]][_x62025[20]][_x62025[37]]/10))[_x62025[25]](2)-(this[_x62025[24]][_x62025[39]]/this[_x62025[24]][_x62025[20]][_x62025[38]])[_x62025[25]](2))[_x62025[25]](2),totlemoney:(this[_x62025[24]][_x62025[6]]*(this[_x62025[24]][_x62025[20]][_x62025[37]]/10)-this[_x62025[24]][_x62025[39]]/this[_x62025[24]][_x62025[20]][_x62025[38]])[_x62025[25]](2)})),console[_x62025[18]](_x62025[40],this[_x62025[24]][_x62025[23]]),this[_x62025[24]][_x62025[23]]<0&&this[_x62025[4]]({payment:0}),(_x62025[41]==this[_x62025[24]][_x62025[42]]||_x62025[41]==this[_x62025[24]][_x62025[23]]||_x62025[41]==this[_x62025[24]][_x62025[43]])&&this[_x62025[4]]({membediscountmoney:0,payment:0,discount:0}),this[_x62025[24]][_x62025[42]]<0&&this[_x62025[4]]({membediscountmoney:0}),this[_x62025[24]][_x62025[19]]>=this[_x62025[24]][_x62025[23]]?this[_x62025[4]]({balance:this[_x62025[24]][_x62025[23]],realMoney:0}):this[_x62025[4]]({balance:this[_x62025[24]][_x62025[19]],realMoney:(this[_x62025[24]][_x62025[23]]-this[_x62025[24]][_x62025[19]])[_x62025[25]](2)});},blur:function(a){/^\d{1,10}(\.\d{1,2})?$/[_x62025[44]](a[_x62025[32]][_x62025[31]])||wx[_x62025[34]]({title:_x62025[45],content:_x62025[46]});},GetUserMembershipSetting:function(){console[_x62025[18]](this[_x62025[24]][_x62025[6]]);var a=this,t={store_id:app[_x62025[11]][_x62025[10]][_x62025[47]]};console[_x62025[18]](t),$[_x62025[15]]($[_x62025[16]](orderapi[_x62025[48]],t),function(t){console[_x62025[18]](t),a[_x62025[4]]({Info:t[_x62025[20]][0],membediscountmoney:(a[_x62025[24]][_x62025[6]]*(1-t[_x62025[20]][0][_x62025[37]]/10))[_x62025[25]](2),payment:(a[_x62025[24]][_x62025[6]]*(t[_x62025[20]][0][_x62025[37]]/10))[_x62025[25]](2)}),console[_x62025[18]](_x62025[49],a[_x62025[24]][_x62025[19]],_x62025[50],a[_x62025[24]][_x62025[23]]),a[_x62025[30]](),a[_x62025[24]][_x62025[51]]&&a[_x62025[17]]();});},suitcouponlist:function(){var a={userId:app[_x62025[11]][_x62025[14]][_x62025[52]],store_id:app[_x62025[11]][_x62025[10]][_x62025[47]],realMoney:this[_x62025[24]][_x62025[53]]};console[_x62025[18]](a);var t=this;$[_x62025[15]]($[_x62025[16]](cartapi[_x62025[54]],a),function(a){console[_x62025[18]](a),t[_x62025[4]]({info:a[_x62025[20]]}),wx[_x62025[55]]({url:_x62025[56]+JSON[_x62025[57]](a[_x62025[20]])+_x62025[58]+t[_x62025[24]][_x62025[26]]});});},paysubmit:function(a){var t=this;if($[_x62025[59]](this[_x62025[24]][_x62025[6]]))return wx[_x62025[34]]({title:_x62025[60],content:_x62025[61]}),!1;if(!/^\d{1,10}(\.\d{1,2})?$/[_x62025[44]](t[_x62025[24]][_x62025[6]]))return wx[_x62025[34]]({title:_x62025[62],content:_x62025[63]}),!1;this[_x62025[24]][_x62025[64]]?(0==this[_x62025[24]][_x62025[19]]&&this[_x62025[4]]({eCardCash:(1*this[_x62025[24]][_x62025[21]])[_x62025[25]](2),extraCash:(1*this[_x62025[24]][_x62025[22]])[_x62025[25]](2)}),0!=this[_x62025[24]][_x62025[19]]&&0==this[_x62025[24]][_x62025[65]]&&this[_x62025[4]]({eCardCash:(1*this[_x62025[24]][_x62025[21]])[_x62025[25]](2),extraCash:(1*this[_x62025[24]][_x62025[22]])[_x62025[25]](2)}),this[_x62025[24]][_x62025[65]]>=this[_x62025[24]][_x62025[21]]&&this[_x62025[4]]({eCardCash:(1*this[_x62025[24]][_x62025[21]])[_x62025[25]](2),extraCash:(this[_x62025[24]][_x62025[65]]-1*this[_x62025[24]][_x62025[21]])[_x62025[25]](2)}),this[_x62025[24]][_x62025[65]]<this[_x62025[24]][_x62025[21]]&&this[_x62025[4]]({eCardCash:(1*this[_x62025[24]][_x62025[65]])[_x62025[25]](2),extraCash:0})):this[_x62025[4]]({eCardCash:0,extraCash:0});var e={order_id:this[_x62025[24]][_x62025[5]],payTypeId:9,couponItemId:this[_x62025[24]][_x62025[26]],store_id:app[_x62025[11]][_x62025[10]][_x62025[47]],totalMoney:this[_x62025[24]][_x62025[6]],memberDiscount:this[_x62025[24]][_x62025[20]][_x62025[37]],memberDiscountMoney:JSON[_x62025[66]](this[_x62025[24]][_x62025[42]]),usingPoint:this[_x62025[24]][_x62025[39]]||0,pointAsCashMoney:JSON[_x62025[66]](this[_x62025[24]][_x62025[43]]),eCardCash:this[_x62025[24]][_x62025[67]],extraCash:this[_x62025[24]][_x62025[68]]};console[_x62025[18]](e),$[_x62025[15]]($[_x62025[16]](orderapi[_x62025[69]],e),function(e){console[_x62025[18]](e),0==e[_x62025[70]]?(t[_x62025[4]]({formId:a[_x62025[32]][_x62025[71]],order_id:e[_x62025[20]][_x62025[5]]}),e[_x62025[20]][_x62025[72]]>0?t[_x62025[73]]():t[_x62025[74]](e[_x62025[20]][_x62025[5]])):wx[_x62025[75]]({title:e[_x62025[76]]});});},gotopay:function(){var a={order_id:this[_x62025[24]][_x62025[5]],openid:app[_x62025[11]][_x62025[14]][_x62025[77]],typ:_x62025[78],payment_channel_code:_x62025[79],prepay_flag:1},t=this;$[_x62025[80]]({url:app[_x62025[83]][_x62025[82]][_x62025[81]][_x62025[81]],data:a,success:function(e,s,o,i){200==s?wx[_x62025[84]]({timeStamp:e[_x62025[85]],nonceStr:e[_x62025[86]],'package':e[_x62025[87]],signType:e[_x62025[88]],paySign:e[_x62025[89]],success:function(e){t[_x62025[74]](a[_x62025[5]]);},fail:function(t){$[_x62025[90]](_x62025[91]+a[_x62025[5]]);},complete:function(e){_x62025[92]==e[_x62025[93]]&&($[_x62025[90]](_x62025[91]+a[_x62025[5]]),t[_x62025[94]](a[_x62025[5]],1));}}):$[_x62025[95]](o);},fail:function(a){}});},returnUrl:function(a){var t=this;if(!$[_x62025[59]](t[_x62025[24]][_x62025[96]])){var e=JSON[_x62025[66]](t[_x62025[24]][_x62025[96]]);return 2==e[_x62025[97]]?e[_x62025[98]]?void $[_x62025[90]](_x62025[91]+a):void $[_x62025[99]](1,function(){notice[_x62025[100]](_x62025[101]);}):void $[_x62025[90]](_x62025[91]+a);}$[_x62025[90]](_x62025[91]+a);},switchChange:function(a){console[_x62025[18]](a),a[_x62025[32]][_x62025[31]]?this[_x62025[4]]({realMoney:this[_x62025[24]][_x62025[102]],isBalance:!0}):this[_x62025[4]]({payment:this[_x62025[24]][_x62025[23]],isBalance:!1});}});}.call(this,['../../helpers/util.js','../../helpers/notice.js','../../wxParse/wxParse.js','','setData','order_id','money','addNotification','RefreshCoupon1','VendorFeatureSet','shopInfo','globalData','removeNotification','user_account','userInfo','xsr','makeUrl','GetUserUsableECash','log','MaxUsableCash','Info','MaxUsableECardCash','MaxUsableExtraCash','payment','data','toFixed','couponItemId','IsUseCoupon','DiscountMoney','MoneyLimit','inputVal','value','detail','UsablePoint','showModal','\u63d0\u793a','\u8bf7\u8f93\u5165\u6b63\u786e\u79ef\u5206\u989d\u5ea6','MemberDiscount','PointAsCashRate','integral','\u8ba1\u7b97\u503c\uff1a','NaN','membediscountmoney','discount','test','\u63d0\u793a','\u8bf7\u8f93\u5165\u6b63\u786e\u91d1\u989d','store_id','GetUserMembershipSetting','\u53ef\u7528\u4f59\u989d\uff1a','\u8ba1\u7b97\u503c\uff1a','ECashCard','user_id','totlemoney','GetUsableCouponItemListForQuickPay','navigateTo','../favorablesuitcouponlist/favorablesuitcouponlist?val=','stringify','&id=','isNull','\u63d0\u793a','\u8bf7\u8f93\u5165\u6b63\u786e\u91d1\u989d','\u63d0\u793a','\u8bf7\u8f93\u5165\u6b63\u786e\u91d1\u989d','isBalance','balance','parse','eCardCash','extraCash','PayMealOrder','Code','formId','ActualPayPrice','gotopay','returnUrl','showToast','Msg','openId','json','wx_native','request','pay','URL','Config','requestPayment','timeStamp','nonceStr','package','signType','paySign','redirectTo','../orderMessageDetail/orderMessageDetail?order_id=','requestPayment:cancel','errMsg','sendMessage','alert','spinfo','isFightGroup','isOwner','navigateBack','postNotificationName','RefreshFG','realMoney']));