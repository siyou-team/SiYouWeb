(function(_x43622){'use strict';var app=getApp(),$=require(_x43622[0]),notice=require(_x43622[1]);Page({data:{tapindex:1,page:1,rows:10,ispage:!0,flag:!0,type:1,kind_id:1201,formId:_x43622[2],orderlist:[],imgLogo:_x43622[2],show:!1,Info:_x43622[2],StateCode:app[_x43622[3]]},onLoad:function(t){this[_x43622[4]]({tapindex:t[_x43622[5]],page:1,rows:10,orderlist:[],type:t[_x43622[6]],kind_id:t[_x43622[7]],imgLogo:app[_x43622[10]][_x43622[9]][_x43622[8]]});var e=this;notice[_x43622[11]](_x43622[12],e[_x43622[12]],e),this[_x43622[13]]();},onUnload:function(){var t=this;notice[_x43622[14]](_x43622[12],t);},RefreshMessage:function(t){this[_x43622[4]]({tapindex:1,page:1,rows:10,orderlist:[],ispage:!0,flag:!0,type:0,kind_id:this[_x43622[15]][_x43622[7]]}),this[_x43622[13]]();},allOrders:function(){this[_x43622[4]]({tapindex:1,page:1,rows:10,orderlist:[],ispage:!0,flag:!0,type:0,kind_id:this[_x43622[15]][_x43622[7]]}),this[_x43622[13]]();},toBePaid:function(){this[_x43622[4]]({tapindex:2,page:1,rows:10,orderlist:[],ispage:!0,flag:!0,type:app[_x43622[3]][_x43622[16]],kind_id:this[_x43622[15]][_x43622[7]]}),this[_x43622[13]]();},receiptOfGoods:function(){this[_x43622[4]]({tapindex:3,page:1,rows:10,ispage:!0,flag:!0,orderlist:[],type:app[_x43622[3]][_x43622[17]],kind_id:this[_x43622[15]][_x43622[7]]}),this[_x43622[13]]();},toBeEvaluated:function(){this[_x43622[4]]({tapindex:4,page:1,rows:10,ispage:!0,flag:!0,orderlist:[],type:app[_x43622[3]][_x43622[18]],kind_id:this[_x43622[15]][_x43622[7]]}),this[_x43622[13]]();},scrollbottom:function(){if(this[_x43622[15]][_x43622[19]]){var t=this;t[_x43622[4]]({flag:!1}),clearTimeout(e);var e=setTimeout(function(){t[_x43622[4]]({state_type:t[_x43622[15]][_x43622[6]],flag:!1,page:parseInt(t[_x43622[15]][_x43622[20]])+1,rows:10}),t[_x43622[13]]();},500);}},getOrderlist:function(){var t=this,e={page:t[_x43622[15]][_x43622[20]],rows:t[_x43622[15]][_x43622[21]],state_type:t[_x43622[15]][_x43622[6]],kind_id:this[_x43622[15]][_x43622[7]]};$[_x43622[22]]({url:app[_x43622[26]][_x43622[25]][_x43622[24]][_x43622[23]],data:e,success:function(e,a,i,s){200==a&&e[_x43622[28]][_x43622[27]]>0?e[_x43622[20]]>=e[_x43622[29]]?t[_x43622[4]]({flag:!1,ispage:!1,orderlist:t[_x43622[15]][_x43622[31]][_x43622[30]](e[_x43622[28]])}):t[_x43622[4]]({flag:!0,ispage:!0,orderlist:t[_x43622[15]][_x43622[31]][_x43622[30]](e[_x43622[28]])}):t[_x43622[4]]({flag:!1,ispage:!1});}});},cancelOrder:function(t){var e=this,a={order_id:t[_x43622[34]][_x43622[33]][_x43622[32]]};$[_x43622[35]](_x43622[36],function(t){t[_x43622[35]]&&$[_x43622[22]]({url:app[_x43622[26]][_x43622[25]][_x43622[24]][_x43622[37]],data:a,success:function(t,a,i,s){200==a&&$[_x43622[38]](_x43622[39],function(){e[_x43622[4]]({orderlist:[],page:1}),e[_x43622[13]]();});}});},!0);},writeOrder:function(t){var e=this,a={order_id:t[_x43622[34]][_x43622[33]][_x43622[32]]};$[_x43622[35]](_x43622[40],function(t){t[_x43622[35]]&&$[_x43622[22]]({url:app[_x43622[26]][_x43622[25]][_x43622[24]][_x43622[41]],data:a,success:function(t,a,i,s){200==a?$[_x43622[38]](_x43622[42],function(){e[_x43622[4]]({orderlist:[],page:1,Info:i}),e[_x43622[13]]();}):(e[_x43622[4]]({show:!0}),setTimeout(function(){e[_x43622[4]]({show:!1});},2000),e[_x43622[13]]());}});},!0);},confirmReceipt:function(t){var e={order_id:t[_x43622[34]][_x43622[33]][_x43622[32]]},a=this;$[_x43622[35]](_x43622[43],function(t){t[_x43622[35]]&&$[_x43622[22]]({url:app[_x43622[26]][_x43622[25]][_x43622[24]][_x43622[41]],data:e,success:function(t,e,i,s){200==e&&$[_x43622[38]](_x43622[44],function(){a[_x43622[4]]({orderlist:[],page:1}),a[_x43622[13]]();});}});},!0);},gotopay:function(t){this[_x43622[4]]({formId:t[_x43622[46]][_x43622[45]]});var e={order_id:t[_x43622[34]][_x43622[33]][_x43622[32]],openid:app[_x43622[10]][_x43622[48]][_x43622[47]],typ:_x43622[49],payment_channel_code:_x43622[50],prepay_flag:1},a=this;$[_x43622[22]]({url:app[_x43622[26]][_x43622[25]][_x43622[51]][_x43622[51]],data:e,success:function(e,i,s,r){200==i?wx[_x43622[52]]({timeStamp:e[_x43622[53]],nonceStr:e[_x43622[54]],'package':e[_x43622[55]],signType:e[_x43622[56]],paySign:e[_x43622[57]],success:function(){a[_x43622[58]](t[_x43622[34]][_x43622[33]][_x43622[32]]),$[_x43622[38]](_x43622[59],function(){a[_x43622[4]]({orderlist:[],page:1}),a[_x43622[13]]();});},fail:function(t){}}):$[_x43622[38]](s);},fail:function(t){}});},sendMessage:function(t){var e={api:orderapi[_x43622[60]],pages:_x43622[61]+t,formId:this[_x43622[15]][_x43622[45]],WeiXinOpenId:app[_x43622[10]][_x43622[48]][_x43622[47]],value:{order_id:t}};$[_x43622[62]](e);}});}.call(this,['../../helpers/util.js','../../helpers/notice.js','','StateCode','setData','sl','type','kind_id','WapLogoPath','shopInfo','globalData','addNotification','RefreshMessage','getOrderlist','removeNotification','data','ORDER_STATE_WAIT_PAY','ORDER_STATE_SHIPPED','ORDER_STATE_FINISH','flag','page','rows','request','order_lists','user','URL','Config','length','items','total','concat','orderlist','on','dataset','currentTarget','confirm','\u662f\u5426\u53d6\u6d88\u8ba2\u5355','order_cancel','alert','\u53d6\u6d88\u6210\u529f\uff01','\u662f\u5426\u6838\u9500\u8ba2\u5355\uff1f','order_receive','\u6838\u9500\u6210\u529f\uff01','\u662f\u5426\u786e\u8ba4\u6536\u8d27\uff1f','\u6536\u8d27\u6210\u529f\uff01','formId','detail','openId','userInfo','json','wx_native','pay','requestPayment','timeStamp','nonceStr','package','signType','paySign','sendMessage','\u652f\u4ed8\u6210\u529f\uff01','OrderPaySuccessWXMessage','pages/orderdetail/orderdetail?on=','sendTpl']));