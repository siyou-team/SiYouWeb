(function(_x45452){'use strict';var app=getApp(),$=require(_x45452[0]);Page({data:{ispage:!1,VoucherList:[],Coupons:[],flag:!0,Id:0,Code:_x45452[1],index:0,needed_point:0},onLoad:function(e){var t=this;$[_x45452[2]](app[_x45452[4]][_x45452[3]])?app[_x45452[5]](function(){t[_x45452[6]]();},e[_x45452[7]]):t[_x45452[6]]();},doReceive:function(e){var t=this;e[_x45452[10]][_x45452[9]][_x45452[8]]!=-1&&(t[_x45452[11]]({Id:e[_x45452[10]][_x45452[9]][_x45452[12]],needed_point:e[_x45452[10]][_x45452[9]][_x45452[13]]}),t[_x45452[14]]());},outertouch:function(){this[_x45452[11]]({flag:!0});},innertouch:function(){this[_x45452[11]]({flag:!1});},getCouponlist:function(){var e={},t=this;$[_x45452[15]]({url:app[_x45452[18]][_x45452[17]][_x45452[13]][_x45452[16]],data:e,ajaxCache:{timeout:app[_x45452[18]][_x45452[19]]},success:function(e,a,i,o){for(var n=0;e[_x45452[21]][_x45452[20]]>n;n++)e[_x45452[21]][n][_x45452[22]]=$[_x45452[23]](e[_x45452[21]][n][_x45452[22]],_x45452[24]);200==a?t[_x45452[11]]({VoucherList:e[_x45452[21]],ispage:!0}):t[_x45452[11]]({flag:!1,ispage:!1});},fail:function(e){t[_x45452[11]]({flag:!1,ispage:!1});}});},getUserReceiveCoupon:function(){var e=this[_x45452[26]][_x45452[25]],t=this;e>0?$[_x45452[27]](_x45452[28]+e+_x45452[29],function(e){e[_x45452[27]]&&t[_x45452[30]]();},!0):t[_x45452[30]]();},addVoucher:function(){var e=this,t={activity_id:this[_x45452[26]][_x45452[31]],Code:this[_x45452[26]][_x45452[32]],IsNewUser:0};$[_x45452[15]]({url:app[_x45452[18]][_x45452[17]][_x45452[34]][_x45452[33]],data:t,success:function(t,a,i,o){200==a?($[_x45452[35]](_x45452[36]),e[_x45452[6]]()):$[_x45452[35]](i);}});},onShareAppMessage:function(){return{title:app[_x45452[4]][_x45452[38]][_x45452[37]],desc:app[_x45452[4]][_x45452[38]][_x45452[39]],path:_x45452[40]+app[_x45452[4]][_x45452[3]][_x45452[41]]};},receivenowWeixin:function(e){({activity_id:e[_x45452[10]][_x45452[9]][_x45452[42]],openid:app[_x45452[4]][_x45452[3]][_x45452[43]]});}});}.call(this,['../../helpers/util.js','','isNull','userInfo','globalData','getUserInfo','getCouponlist','uid','isreceive','dataset','currentTarget','setData','id','point','getUserReceiveCoupon','request','voucher','URL','Config','CACHE_EXPIRE','length','items','activity_endtime','dateFormat','yyyy-MM-dd','needed_point','data','confirm','\u786e\u5b9a\u6d88\u8017','\u5151\u6362\u4f18\u60e0\u5238?','addVoucher','Id','Code','voucher_add','user','alert','\u9886\u53d6\u6210\u529f!','store_name','shopInfo','VendorInfo','/pages/receivecontent/receivecontent?uid=','user_id','cardid','openId']));