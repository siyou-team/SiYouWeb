(function(_x8701){'use strict';var app=getApp(),$=require(_x8701[0]);Page({data:{page:1,rows:10,tapindex:0,voucher_state_id:1501,ispage:!0,flag:!0,UserCoupon:[],numNeverUsed:0,numAlreadyused:0,numOutdated:0},onLoad:function(e){this[_x8701[1]]({UserCoupon:[]}),this[_x8701[2]]();},neverused:function(){this[_x8701[1]]({tapindex:0,voucher_state_id:1501,UserCoupon:[],page:1}),this[_x8701[2]]();},alreadyused:function(){this[_x8701[1]]({tapindex:1,voucher_state_id:1502,UserCoupon:[],page:1}),this[_x8701[2]]();},outdated:function(){this[_x8701[1]]({tapindex:2,voucher_state_id:1503,UserCoupon:[],page:1}),this[_x8701[2]]();},useVoucher:function(e){var t=e[_x8701[5]][_x8701[4]][_x8701[3]];wx[_x8701[6]]({url:_x8701[7]+t});},getCouponlist:function(){var e={page:this[_x8701[9]][_x8701[8]],rows:this[_x8701[9]][_x8701[10]],voucher_state_id:this[_x8701[9]][_x8701[11]]},t=this;$[_x8701[12]]({url:app[_x8701[16]][_x8701[15]][_x8701[14]][_x8701[13]],data:e,success:function(e,a,s,u){200==a?t[_x8701[1]]({numNeverUsed:e[_x8701[17]],numAlreadyused:e[_x8701[18]],numOutdated:e[_x8701[19]]}):t[_x8701[1]]({numNeverUsed:-1,numAlreadyused:-1,numOutdated:-1});}}),$[_x8701[12]]({url:app[_x8701[16]][_x8701[15]][_x8701[14]][_x8701[20]],data:e,success:function(e,a,s,u){if(200==a)if(e[_x8701[22]][_x8701[21]]>0){for(var o=0;o<e[_x8701[22]][_x8701[21]];o++)e[_x8701[22]][o][_x8701[23]]=$[_x8701[24]](e[_x8701[22]][o][_x8701[25]],_x8701[26]),e[_x8701[22]][o][_x8701[27]]=$[_x8701[24]](e[_x8701[22]][o][_x8701[27]],_x8701[26]);e[_x8701[8]]>=e[_x8701[28]]?t[_x8701[1]]({UserCoupon:t[_x8701[9]][_x8701[30]][_x8701[29]](e[_x8701[22]]),flag:!1,ispage:!1}):t[_x8701[1]]({UserCoupon:t[_x8701[9]][_x8701[30]][_x8701[29]](e[_x8701[22]]),flag:!0,ispage:!0});}else t[_x8701[1]]({flag:!1,ispage:!1});}});},scrollbottom:function(){if(this[_x8701[9]][_x8701[31]]){var e=this;e[_x8701[1]]({flag:!1}),clearTimeout(t);var t=setTimeout(function(){e[_x8701[1]]({page:parseInt(e[_x8701[9]][_x8701[8]])+1}),e[_x8701[2]]();},500);}}});}.call(this,['../../helpers/util.js','setData','getCouponlist','store_id','dataset','currentTarget','redirectTo','../couponsuitproduct/couponsuitproduct?store_id=','page','data','rows','voucher_state_id','request','eachVoucherNum','user','URL','Config','voucher_unused_num','voucher_used_num','voucher_timeout_num','voucherList','length','items','voucher_start_date','dateFormat','user_voucher_time','yyyy-MM-dd','voucher_end_date','total','concat','UserCoupon','flag']));