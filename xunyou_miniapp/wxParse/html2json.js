(function(_x11756){'use strict';function makeMap(e){for(var t={},r=e[_x11756[0]](_x11756[1]),s=0;s<r[_x11756[2]];s++)t[r[s]]=!0;return t;}function q(e){return _x11756[3]+e+_x11756[3];}function removeDOCTYPE(e){return e[_x11756[4]](/<\?xml.*\?>\n/,_x11756[5])[_x11756[4]](/<.*!doctype.*\>\n/,_x11756[5])[_x11756[4]](/<.*!DOCTYPE.*\>\n/,_x11756[5]);}function html2json(e,t){e=removeDOCTYPE(e),e=wxDiscode[_x11756[6]](e);var r=[],s={node:t,nodes:[],images:[],imageUrls:[]};return HTMLParser(e,{start:function(e,o,a){var i={node:_x11756[7],tag:e};if(block[e]?i[_x11756[8]]=_x11756[9]:inline[e]?i[_x11756[8]]=_x11756[10]:closeSelf[e]&&(i[_x11756[8]]=_x11756[11]),0!==o[_x11756[2]]&&(i[_x11756[12]]=o[_x11756[13]](function(e,t){var r=t[_x11756[14]],s=t[_x11756[15]];return _x11756[16]==r&&(i[_x11756[17]]=s),_x11756[18]==r&&(i[_x11756[19]]=s),s[_x11756[20]](/ /)&&(s=s[_x11756[0]](_x11756[21])),e[r]?Array[_x11756[22]](e[r])?e[r][_x11756[23]](s):e[r]=[e[r],s]:e[r]=s,e;},{})),_x11756[24]===i[_x11756[25]]){i[_x11756[26]]=s[_x11756[27]][_x11756[2]];var n=i[_x11756[12]][_x11756[28]];n=wxDiscode[_x11756[29]](n,__placeImgeUrlHttps),i[_x11756[12]][_x11756[28]]=n,i[_x11756[30]]=t,s[_x11756[27]][_x11756[23]](i),s[_x11756[31]][_x11756[23]](n);}if(_x11756[32]===i[_x11756[25]]&&(s[_x11756[32]]=i[_x11756[12]][_x11756[28]]),a){var l=r[0]||s;void 0===l[_x11756[33]]&&(l[_x11756[33]]=[]),l[_x11756[33]][_x11756[23]](i);}else r[_x11756[34]](i);},end:function(e){var t=r[_x11756[35]]();if(t[_x11756[25]]!==e&&console[_x11756[36]](_x11756[37]),_x11756[38]===t[_x11756[25]]&&s[_x11756[32]]&&(t[_x11756[12]][_x11756[28]]=s[_x11756[32]],delete result[_x11756[32]]),0===r[_x11756[2]])s[_x11756[33]][_x11756[23]](t);else{var o=r[0];void 0===o[_x11756[33]]&&(o[_x11756[33]]=[]),o[_x11756[33]][_x11756[23]](t);}},chars:function(e){var t={node:_x11756[39],text:e,textArray:transEmojiStr(e)};if(0===r[_x11756[2]])s[_x11756[33]][_x11756[23]](t);else{var o=r[0];void 0===o[_x11756[33]]&&(o[_x11756[33]]=[]),o[_x11756[33]][_x11756[23]](t);}},comment:function(e){}}),s;}function transEmojiStr(e){var t=[];if(0==__emojisReg[_x11756[2]]||!__emojis){var r={};return r[_x11756[40]]=_x11756[39],r[_x11756[39]]=e,o=[r];}e=e[_x11756[4]](/\[([^\[\]]+)\]/g,_x11756[41]);for(var s=new RegExp(_x11756[42]),o=e[_x11756[0]](s),a=0;a<o[_x11756[2]];a++){var i=o[a],r={};__emojis[i]?(r[_x11756[40]]=_x11756[7],r[_x11756[25]]=_x11756[43],r[_x11756[39]]=__emojis[i],r[_x11756[44]]=__emojisBaseSrc):(r[_x11756[40]]=_x11756[39],r[_x11756[39]]=i),t[_x11756[23]](r);}return t;}function emojisInit(){var e=arguments[_x11756[2]]>0&&void 0!==arguments[0]?arguments[0]:_x11756[5],t=arguments[_x11756[2]]>1&&void 0!==arguments[1]?arguments[1]:_x11756[45],r=arguments[2];__emojisReg=e,__emojisBaseSrc=t,__emojis=r;}var __placeImgeUrlHttps=_x11756[46],__emojisReg=_x11756[5],__emojisBaseSrc=_x11756[5],__emojis={},wxDiscode=require(_x11756[47]),HTMLParser=require(_x11756[48]),empty=makeMap(_x11756[49]),block=makeMap(_x11756[50]),inline=makeMap(_x11756[51]),closeSelf=makeMap(_x11756[52]),fillAttrs=makeMap(_x11756[53]),special=makeMap(_x11756[54]);module[_x11756[55]]={html2json:html2json,emojisInit:emojisInit};}.call(this,['split',',','length','"','replace','','strDiscode','element','tagType','block','inline','closeSelf','attr','reduce','name','value','class','classStr','style','styleStr','match',' ','isArray','push','img','tag','imgIndex','images','src','urlToHttpUrl','from','imageUrls','source','nodes','unshift','shift','error','invalid state: mismatch end tag','video','text','node',':$1:','[:]','emoji','baseSrc','/wxParse/emojis/','https','./wxDiscode.js','./htmlparser.js','area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr','br,a,code,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video','abbr,acronym,applet,b,basefont,bdo,big,button,cite,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var','colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr','checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected','wxxxcode-style,script,style,view,scroll-view,block','exports']));